# 组合模式

“数据结构”模式，一些组件的内部具有特定的数据结构，如果让客户程序依赖这些特定的数据结构，将极大地破坏组件的复用。将这些数据结构封装在内部，在外部提供统一的接口，来实现与特定数据结构无关的访问，是一种有效的解决方案。

composite、iterator、chain of resposibility

* 动机

  将客户代码与特定数据结构解耦

* 定义

  将对象组合成树形结构以表示“部分-整体”的层次结构。Composite使得用户对单个对象和组合对象的使用具有一致性（稳定）。

* 结构

  ![image-20211201162524232](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20211201162524232.png)

* Composite模式采用树形结构来实现普遍存在的对象容器，从而将“一对多”的关系转化为“一对一”的关系，使得客户代码可以一致地（复用）处理对象和对象容器，无需关心处理的是单个对象，还是组合的对象容器。
* “将客户代码与复杂的对象容器结构”解耦是Composite的核心思想，解耦之后，客户代码将于纯粹的抽象接口——而非对象容器的内部实现——发生依赖，更能“应对变化”